import pycountry

# Taken from: https://www.numbeo.com/crime/rankings_by_country.jsp?title=2023&displayColumn=1
crime_index = dict([['Venezuela', 82.65],
        ['Papua New Guinea', 79.85],
        ['Afghanistan', 78.61],
        ['South Africa', 75.37],
        ['Honduras', 74.24],
        ['Trinidad And Tobago', 70.64],
        ['Guyana', 68.96],
        ['Syria', 68.77],
        ['Somalia', 68.60],
        ['Jamaica', 67.76],
        ['Peru', 67.58],
        ['Brazil', 66.63],
        ['Nigeria', 65.53],
        ['Angola', 65.43],
        ['Cameroon', 64.85],
        ['Namibia', 64.83],
        ['El Salvador', 64.35],
        ['Argentina', 64.27],
        ['Mozambique', 63.35],
        ['Bangladesh', 62.58],
        ['Bahamas', 62.41],
        ['Puerto Rico', 61.99],
        ['Dominican Republic', 61.18],
        ['Us Virgin Islands', 60.93],
        ['Bolivia', 60.77],
        ['Zimbabwe', 60.51],
        ['Colombia', 60.24],
        ['Libya', 60.19],
        ['Guatemala', 59.71],
        ['Ecuador', 59.43],
        ['Chile', 58.10],
        ['Kenya', 56.98],
        ['Fiji', 56.96],
        ['Belarus', 56.42],
        ['Tanzania', 55.53],
        ['France', 55.30],
        ['Uganda', 54.91],
        ['Kyrgyzstan', 54.61],
        ['Maldives', 54.46],
        ['Mexico', 54.42],
        ['Mongolia', 53.86],
        ['Costa Rica', 53.83],
        ['Botswana', 53.67],
        ['Belize', 53.08],
        ['Cambodia', 52.94],
        ['Malaysia', 52.93],
        ['Uruguay', 52.72],
        ['Kazakhstan', 52.72],
        ['Algeria', 52.59],
        ['North Korea', 52.41],
        ['Ethiopia', 50.91],
        ['Paraguay', 50.79],
        ['Iran', 49.92],
        ['Belgium', 49.09],
        ['United States', 49.02],
        ['Zambia', 48.79],
        ['Nicaragua', 48.75],
        ['Sweden', 48.52],
        ['Myanmar', 48.20],
        ['Mauritius', 48.07],
        ['Barbados', 47.85],
        ['Egypt', 47.24],
        ['Moldova', 47.07],
        ['Greece', 47.00],
        ['United Kingdom', 46.90],
        ['Italy', 46.86],
        ['Morocco', 46.83],
        ['Ukraine', 46.71],
        ['Sudan', 46.52],
        ['Lebanon', 46.23],
        ['Iraq', 46.12],
        ['Indonesia', 45.89],
        ['Ireland', 45.87],
        ['New Zealand', 45.83],
        ['Albania', 45.67],
        ['Australia', 45.50],
        ['India', 44.65],
        ['Tunisia', 44.65],
        ['Ghana', 44.54],
        ['Vietnam', 44.47],
        ['Canada', 44.26],
        ['Panama', 43.68],
        ['Bosnia And Herzegovina', 42.91],
        ['Philippines', 42.73],
        ['Malta', 42.45],
        ['Pakistan', 42.33],
        ['Sri Lanka', 41.37],
        ['Jordan', 41.04],
        ['Palestine', 40.98],
        ['North Macedonia', 40.91],
        ['Kosovo (Disputed Territory)', 40.75],
        ['Turkey', 40.05],
        ['Montenegro', 39.83],
        ['Russian Federation', 39.32],
        ['Thailand', 38.70],
        ['Serbia', 38.18],
        ['Bulgaria', 37.95],
        ['Latvia', 37.68],
        ['Nepal', 37.63],
        ['Germany', 37.60],
        ['Spain', 35.69],
        ['Luxembourg', 35.12],
        ['Hungary', 33.95],
        ['Uzbekistan', 33.52],
        ['Norway', 33.51],
        ['Lithuania', 33.05],
        ['Israel', 32.57],
        ['Kuwait', 32.55],
        ['Romania', 32.00],
        ['Azerbaijan', 31.82],
        ['Cuba', 31.59],
        ['Portugal', 31.52],
        ['Slovakia', 31.38],
        ['Cyprus', 31.36],
        ['Singapore', 29.25],
        ['Poland', 29.16],
        ['Brunei', 28.95],
        ['Rwanda', 27.62],
        ['Netherlands', 27.27],
        ['Austria', 27.26],
        ['Finland', 26.83],
        ['Czech Republic', 26.64],
        ['Denmark', 26.59],
        ['China', 26.34],
        ['Georgia', 25.85],
        ['South Korea', 25.49],
        ['Estonia', 25.08],
        ['Iceland', 24.93],
        ['Saudi Arabia', 24.61],
        ['Monaco', 24.61],
        ['Croatia', 24.56],
        ['Slovenia', 24.21],
        ['Bahrain', 23.99],
        ['Switzerland', 23.59],
        ['Japan', 23.07],
        ['Armenia', 22.00],
        ['Hong Kong', 21.50],
        ['Oman', 19.66],
        ['Isle Of Man', 18.04],
        ['Taiwan', 16.24],
        ['United Arab Emirates', 15.10],
        ['Qatar', 14.82],
        ])
safety_index = dict([['Venezuela', 17.35],
        ['Papua New Guinea', 20.15],
        ['Afghanistan', 21.39],
        ['South Africa', 24.63],
        ['Honduras', 25.76],
        ['Trinidad And Tobago', 29.36],
        ['Guyana', 31.04],
        ['Syria', 31.23],
        ['Somalia', 31.40],
        ['Jamaica', 32.24],
        ['Peru', 32.42],
        ['Brazil', 33.37],
        ['Nigeria', 34.47],
        ['Angola', 34.57],
        ['Cameroon', 35.15],
        ['Namibia', 35.17],
        ['El Salvador', 35.65],
        ['Argentina', 35.73],
        ['Mozambique', 36.65],
        ['Bangladesh', 37.42],
        ['Bahamas', 37.59],
        ['Puerto Rico', 38.01],
        ['Dominican Republic', 38.82],
        ['Us Virgin Islands', 39.07],
        ['Bolivia', 39.23],
        ['Zimbabwe', 39.49],
        ['Colombia', 39.76],
        ['Libya', 39.81],
        ['Guatemala', 40.29],
        ['Ecuador', 40.57],
        ['Chile', 41.90],
        ['Kenya', 43.02],
        ['Fiji', 43.04],
        ['Belarus', 43.58],
        ['Tanzania', 44.47],
        ['France', 44.70],
        ['Uganda', 45.09],
        ['Kyrgyzstan', 45.39],
        ['Maldives', 45.54],
        ['Mexico', 45.58],
        ['Mongolia', 46.14],
        ['Costa Rica', 46.17],
        ['Botswana', 46.33],
        ['Belize', 46.92],
        ['Cambodia', 47.06],
        ['Malaysia', 47.07],
        ['Uruguay', 47.28],
        ['Kazakhstan', 47.28],
        ['Algeria', 47.41],
        ['North Korea', 47.59],
        ['Ethiopia', 49.09],
        ['Paraguay', 49.21],
        ['Iran', 50.08],
        ['Belgium', 50.91],
        ['United States', 50.98],
        ['Zambia', 51.21],
        ['Nicaragua', 51.25],
        ['Sweden', 51.48],
        ['Myanmar', 51.80],
        ['Mauritius', 51.93],
        ['Barbados', 52.15],
        ['Egypt', 52.76],
        ['Moldova', 52.93],
        ['Greece', 53.00],
        ['United Kingdom', 53.10],
        ['Italy', 53.14],
        ['Morocco', 53.17],
        ['Ukraine', 53.29],
        ['Sudan', 53.48],
        ['Lebanon', 53.77],
        ['Iraq', 53.88],
        ['Indonesia', 54.11],
        ['Ireland', 54.13],
        ['New Zealand', 54.17],
        ['Albania', 54.33],
        ['Australia', 54.50],
        ['India', 55.35],
        ['Tunisia', 55.35],
        ['Ghana', 55.46],
        ['Vietnam', 55.53],
        ['Canada', 55.74],
        ['Panama', 56.32],
        ['Bosnia And Herzegovina', 57.09],
        ['Philippines', 57.27],
        ['Malta', 57.55],
        ['Pakistan', 57.67],
        ['Sri Lanka', 58.63],
        ['Jordan', 58.96],
        ['Palestine', 59.02],
        ['North Macedonia', 59.09],
        ['Kosovo (Disputed Territory)', 59.25],
        ['Turkey', 59.95],
        ['Montenegro', 60.17],
        ['Russian Federation', 60.68],
        ['Thailand', 61.30],
        ['Serbia', 61.82],
        ['Bulgaria', 62.05],
        ['Latvia', 62.32],
        ['Nepal', 62.37],
        ['Germany', 62.40],
        ['Spain', 64.31],
        ['Luxembourg', 64.88],
        ['Hungary', 66.05],
        ['Uzbekistan', 66.48],
        ['Norway', 66.49],
        ['Lithuania', 66.95],
        ['Israel', 67.43],
        ['Kuwait', 67.45],
        ['Romania', 68.00],
        ['Azerbaijan', 68.18],
        ['Cuba', 68.41],
        ['Portugal', 68.48],
        ['Slovakia', 68.62],
        ['Cyprus', 68.64],
        ['Singapore', 70.75],
        ['Poland', 70.84],
        ['Brunei', 71.05],
        ['Rwanda', 72.38],
        ['Netherlands', 72.73],
        ['Austria', 72.74],
        ['Finland', 73.17],
        ['Czech Republic', 73.36],
        ['Denmark', 73.41],
        ['China', 73.66],
        ['Georgia', 74.15],
        ['South Korea', 74.51],
        ['Estonia', 74.92],
        ['Iceland', 75.07],
        ['Saudi Arabia', 75.39],
        ['Monaco', 75.39],
        ['Croatia', 75.44],
        ['Slovenia', 75.79],
        ['Bahrain', 76.01],
        ['Switzerland', 76.41],
        ['Japan', 76.93],
        ['Armenia', 78.00],
        ['Hong Kong', 78.50],
        ['Oman', 80.34],
        ['Isle Of Man', 81.96],
        ['Taiwan', 83.76],
        ['United Arab Emirates', 84.90],
        ['Qatar', 85.18]])

def get_safety_crime_index():
    safety_crime_index = []
    for raw_name in set(list(safety_index.keys()) + list(crime_index.keys())):
        crime_val = crime_index.get(raw_name, -1)
        safety_val = safety_index.get(raw_name, -1)

        try:
            cc = pycountry.countries.lookup(raw_name)
            name = cc.name
            alpha2 = cc.alpha_2
        except:
            print(f"FAIL {raw_name}")
            try:
                cc = pycountry.countries.search_fuzzy(raw_name)
                name = cc[0].name
                alpha2 = cc[0].alpha_2
            except:
                print(f"HARDFAIL {raw_name}")
                name = "Unknown"
                alpha2 = "ZZ"

        safety_crime_index.append({
            'crime_index': crime_val,
            'safety_index': safety_val,
            'raw_name': raw_name,
            'name': name,
            'alpha2': alpha2
        })
    return safety_crime_index
